[{"C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\index.js":"1","C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\App.js":"2","C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\Header.js":"3","C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\RecipeOverview.js":"4","C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\Cart.js":"5","C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\Recipe.js":"6","C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\About.js":"7"},{"size":410,"mtime":1608922334859,"results":"8","hashOfConfig":"9"},{"size":1298,"mtime":1609057668876,"results":"10","hashOfConfig":"9"},{"size":361,"mtime":1609001870314,"results":"11","hashOfConfig":"9"},{"size":747,"mtime":1609011766340,"results":"12","hashOfConfig":"9"},{"size":363,"mtime":1609056555243,"results":"13","hashOfConfig":"9"},{"size":4497,"mtime":1609044765518,"results":"14","hashOfConfig":"9"},{"size":1117,"mtime":1609037259018,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"4ix0kh",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"18"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\index.js",[],["33","34"],"C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\App.js",[],"C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\Header.js",[],"C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\RecipeOverview.js",[],["35","36"],"C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\Cart.js",[],"C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\Recipe.js",["37"],"import React, { useState, useEffect } from \"react\";\r\n\r\nfunction Recipe(props) {\r\n    const title = window.location.hash.substring(1);\r\n    const [desc, setDesc] = useState(\"\");\r\n    const [servings, setServings] = useState(1);\r\n    const [rating, setRating] = useState(5);\r\n    const [allRatings, setAllRatings] = useState([]);\r\n    const [image, setImage] = useState(\"\");\r\n    const [ingredients, setIngredients] = useState({});\r\n    const [instructions, setInstructions] = useState([]);\r\n\r\n\r\n    function findAverageRating(ratings) {\r\n        let average = 0;\r\n        for (var i = 0; i < ratings.length; i++) {\r\n            average += ratings[i];\r\n        }\r\n        return (average / ratings.length).toFixed(1);\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetch(\"http://localhost:3001/api/recipe/\" + title)\r\n            .then(res => res.json())\r\n            .then(singleRecipe => {\r\n                let avgRating = findAverageRating(singleRecipe[0].ratings);\r\n                setRating(avgRating);\r\n                setAllRatings(singleRecipe[0].ratings);\r\n                setDesc(singleRecipe[0].desc);\r\n                setImage(singleRecipe[0].picture);\r\n                setIngredients(singleRecipe[0].ingredients);\r\n                setInstructions(singleRecipe[0].instructions);\r\n            });\r\n\r\n    }, []);\r\n\r\n    function updateIngredientCount(num) {\r\n        Object.keys(ingredients).map((item) => {\r\n            var oldVal = ingredients[item];\r\n            var newVal = (oldVal + oldVal / servings * num);\r\n            return ingredients[item] = newVal;\r\n        })\r\n    }\r\n\r\n    function increaseServings() {\r\n        setServings(servings + 1);\r\n        updateIngredientCount(1);\r\n    }\r\n\r\n    function decreaseServings() {\r\n        if(servings > 1) {\r\n            setServings(servings - 1);\r\n            updateIngredientCount(-1);\r\n        }\r\n    }\r\n\r\n    function postRating() {\r\n        const newRating = document.getElementById(\"select-rating\").value;\r\n        var object = allRatings;\r\n        object.push(Number(newRating));\r\n        setAllRatings(object);\r\n        let newAvgRating = findAverageRating(allRatings);\r\n        setRating(newAvgRating);\r\n\r\n        const requestOptions = {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({id: title, rating: newRating})\r\n        };\r\n\r\n        fetch(\"http://localhost:3001/api/rating\", requestOptions);\r\n    }\r\n\r\n    function addRecipeToCart() {\r\n        props.addToCart(ingredients);\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"headline\">\r\n                <h1>{title}</h1>\r\n                <h2>{desc}</h2>\r\n                <p>{rating} ⭐</p>\r\n            </div>\r\n            <button onClick={addRecipeToCart}>Add to Cart</button>\r\n            <div className=\"showcase\">\r\n                <h3>Servings</h3>\r\n                <button onClick={decreaseServings} id=\"sub\">-</button>\r\n                <span style={{ margin: \"0 10px\" }}>{servings}</span>\r\n                <button onClick={increaseServings} id=\"add\">+</button>\r\n            </div>\r\n            <br />\r\n            <div className=\"rating\">\r\n                <label for=\"select-rating\" id=\"rating-label\">Rate Me! </label>\r\n                <select id=\"select-rating\">\r\n                    <option selected hidden disabled>Select Rating</option>\r\n                    <option value=\"1\">1 ⭐</option>\r\n                    <option value=\"2\">2 ⭐</option>\r\n                    <option value=\"3\">3 ⭐</option>\r\n                    <option value=\"4\">4 ⭐</option>\r\n                    <option value=\"5\">5 ⭐</option>\r\n                </select>\r\n                <button onClick={postRating} id=\"post-rating\">Post Rating</button>\r\n            </div>\r\n            <br />\r\n            <br />\r\n            <img style={{ height: \"300px\" }} src={image} alt=\"feature-img\" />\r\n            <h2>Ingredients</h2>\r\n            <ul>\r\n                {ingredients && Object.keys(ingredients).map((item) => {\r\n                    return <li key={item}><span className=\"count\" base=\"1\">{ingredients[item]} </span>{item}</li>\r\n                })}\r\n            </ul>\r\n            <h2>Instructions</h2>\r\n            <ol>\r\n                {instructions && Object.keys(instructions).map((instruction) => {\r\n                    return <li key={instruction}>{instructions[instruction]}</li>\r\n                })}\r\n            </ol>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Recipe;","C:\\Users\\ttapm\\Documents\\Hack4Impact\\bootcamp-grocery-prep\\frontend\\src\\About.js",[],{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","replacedBy":"41"},{"ruleId":"38","replacedBy":"42"},{"ruleId":"40","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":35,"column":8,"nodeType":"46","endLine":35,"endColumn":10,"suggestions":"47"},"no-native-reassign",["48"],"no-negated-in-lhs",["49"],["48"],["49"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'title'. Either include it or remove the dependency array.","ArrayExpression",["50"],"no-global-assign","no-unsafe-negation",{"desc":"51","fix":"52"},"Update the dependencies array to be: [title]",{"range":"53","text":"54"},[1309,1311],"[title]"]